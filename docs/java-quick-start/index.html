<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1")</script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1")</script>

<title data-react-helmet="true">Quick Start | Temporal</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Quick Start | Temporal"><meta data-react-helmet="true" name="description" content="This topic helps you install the Temporal server and implement a workflow."><meta data-react-helmet="true" property="og:description" content="This topic helps you install the Temporal server and implement a workflow."><meta data-react-helmet="true" property="og:url" content="https://temporalio.github.io/docs/java-quick-start">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.svg">


<link rel="stylesheet" href="/styles.253e64a9.css">


<link rel="preload" href="/styles.2e8c563f.js" as="script">

<link rel="preload" href="/runtime~main.08a2b794.js" as="script">

<link rel="preload" href="/main.396e1ee6.js" as="script">

<link rel="preload" href="/1.56a960ad.js" as="script">

<link rel="preload" href="/2.baf85c20.js" as="script">

<link rel="preload" href="/3.f2c34b4a.js" as="script">

<link rel="preload" href="/1be78505.8ca3838c.js" as="script">

<link rel="preload" href="/20ac7829.55ca918f.js" as="script">

<link rel="preload" href="/17896441.3aca8210.js" as="script">

<link rel="preload" href="/479c3a6a.3f4636b0.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="My Site Logo"><strong class="navbar__title">Temporal</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Docs</a><a activeclassname="navbar__link--active" to="https://temporal.io/careers" class="navbar__item navbar__link" href="https://temporal.io/careers">Jobs</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/temporalio/temporal" class="navbar__item navbar__link">GitHub</a><a target="_blank" rel="noopener noreferrer" href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" class="navbar__item navbar__link">Slack</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="My Site Logo"><strong class="navbar__title">Temporal</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" to="https://temporal.io/careers" class="menu__link" href="https://temporal.io/careers">Jobs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/temporalio/temporal" class="menu__link">GitHub</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" class="menu__link">Slack</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/license">MIT License</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installing-server">Installing Temporal</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-sdk-video-tutorial">SDK Video Tutorial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-periodic">Periodic Execution</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-orchestration">Microservice Orchestration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-polling">Polling</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-event-driven">Event Driven Application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-partitioned-scan">Storage Scan</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-batch-job">Batch Job</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-provisioning">Infrastructure Provisioning</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-cicd">CI/CD</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-operational-management">Operational Management</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-interactive">Interactive Application</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-dsl">DSL Workflows</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-cases-big-ml">Big Data and ML</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Learn</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/learn-glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-workflows">Workflows</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-events">Events</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-topology">Deployment Topology</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-task-lists">Task Lists</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-server-configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-archival">Archival</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-cross-dc-replication">Cross-DC Replication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/learn-workflow-filtering">Filtering Workflows</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Java SDK</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/java-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/java-workflow-interface">Workflow Interface</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/java-implementing-workflows">Implementing Workflows</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/java-starting-workflow-executions">Starting workflow executions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/java-activity-interface">Activity Interface</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/java-implementing-activities">Implementing activities</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/java-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/java-distributed-cron">Distributed CRON</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Go SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/go-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-workers">Worker Service</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-create-workflows">Creating Workflows</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-execute-activity">Executing Activities</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-child-workflows">Child Workflows</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-retries">Activity and Workflow Retries</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-signals">Signals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-continue-as-new">ContinueAsNew</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-side-effect">SideEffect</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-activity-async-completion">Asynchronous Activity Completion</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-workflow-testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-sessions">Sessions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-distributed-cron">Distributed CRON</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/go-tracing">Tracing and Context Propagation</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Quick Start</h1></header><div class="markdown"><p>This topic helps you install the Temporal server and implement a workflow.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="install-temporal-server-locally"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#install-temporal-server-locally" title="Direct link to heading">#</a>Install Temporal Server Locally</h2><p>To run samples locally you need to run Temporal server locally using <a href="/docs/installing-server">instructions</a>. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="implement-hello-world-java-workflow"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#implement-hello-world-java-workflow" title="Direct link to heading">#</a>Implement Hello World Java Workflow</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="include-temporal-java-sdk-dependency"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#include-temporal-java-sdk-dependency" title="Direct link to heading">#</a>Include Temporal Java SDK Dependency</h3><p>Go to the <a href="https://oss.sonatype.org/service/local/repositories/snapshots/content/io/temporal/temporal-sdk/0.10.0-SNAPSHOT/">Maven Repository Temporal Java Client Page</a>
and find the latest version of the library. Include it as a dependency into your Java project. For example if you
are using Gradle the dependency looks like:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compile group: &#x27;io.temporal&#x27;, name: &#x27;temporal-sdk&#x27;, version: &#x27;&lt;latest_version&gt;&#x27;</span></div></div></div></div></div><p>Also add the following dependencies that temporal-sdk relies on:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compile group: &#x27;commons-configuration&#x27;, name: &#x27;commons-configuration&#x27;, version: &#x27;1.9&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    compile group: &#x27;ch.qos.logback&#x27;, name: &#x27;logback-classic&#x27;, version: &#x27;1.2.3&#x27;</span></div></div></div></div></div><p>Make sure that the following code compiles:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">io</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">temporal</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">io</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">temporal</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">org</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">slf4j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">GettingStarted</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Logger</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getLogger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">GettingStarted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowInterface</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowMethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>If you are having problems setting up the build files use the
<a href="https://github.com/temporalio/temporal-java-samples">Temporal Java Samples</a> GitHub repository as a reference.</p><p>Also add the following logback config file somewhere in your classpath:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-xml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">appender</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">STDOUT</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">ch.qos.logback.core.ConsoleAppender</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- encoders are assigned the type</span></div><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">             ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">encoder</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">pattern</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">pattern</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">encoder</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">appender</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">logger</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">io.netty</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">level</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">INFO</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">root</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">level</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">INFO</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">appender-ref</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">ref</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">STDOUT</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">root</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="implement-hello-world-workflow"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#implement-hello-world-workflow" title="Direct link to heading">#</a>Implement Hello World Workflow</h3><p>Let&#x27;s add <code>HelloWorldImpl</code> with the <code>sayHello</code> method that just logs the &quot;Hello ...&quot; and returns.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">io</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">temporal</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">worker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Worker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">io</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">temporal</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">io</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">temporal</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">org</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">slf4j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">GettingStarted</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Logger</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getLogger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">GettingStarted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowInterface</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowMethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldImpl</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>To link the workflow implementation to the Temporal framework, it should be registered with a worker that connects to
a Temporal Service. By default the worker connects to the locally running Temporal service.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// gRPC stubs wrapper that talks to the local docker instance of temporal service.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowServiceStubs</span><span class="token plain"> service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowServiceStubs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// client that can be used to start and signal workflows</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowClient</span><span class="token plain"> client </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// worker factory that can be used to create workers for specific task lists</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkerFactory</span><span class="token plain"> factory </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkerFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Worker</span><span class="token plain"> worker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloWorldTaskList&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        worker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">registerWorkflowImplementationTypes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldImpl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="execute-hello-world-workflow-using-the-cli"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#execute-hello-world-workflow-using-the-cli" title="Direct link to heading">#</a>Execute Hello World Workflow using the CLI</h3><p>Now run the worker program. Following is an example log:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">18:39:45.522 [main] INFO  i.t.i.WorkflowServiceStubsImpl - Created GRPC client for channel: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1, target=127.0.0.1:7233}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">18:39:45.674 [main] INFO  io.temporal.internal.worker.Poller - start(): Poller{options=PollerOptions{maximumPollRateIntervalMilliseconds=1000, maximumPollRatePerSecond=0.0, pollBackoffCoefficient=2.0, pollBackoffInitialInterval=PT0.1S, pollBackoffMaximumInterval=PT1M, pollThreadCount=1, pollThreadNamePrefix=&#x27;Workflow Poller taskList=&quot;HelloWorldTaskList&quot;, namespace=&quot;default&quot;&#x27;}, identity=unknown-mac}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">18:39:45.676 [main] INFO  io.temporal.internal.worker.Poller - start(): Poller{options=PollerOptions{maximumPollRateIntervalMilliseconds=1000, maximumPollRatePerSecond=0.0, pollBackoffCoefficient=2.0, pollBackoffInitialInterval=PT0.1S, pollBackoffMaximumInterval=PT1M, pollThreadCount=1, pollThreadNamePrefix=&#x27;null&#x27;}, identity=95963a78-641d-434b-841e-a2efe7f8a19f}</span></div></div></div></div></div><p>No Hello printed. This is expected because a worker is just a workflow code host. The workflow has to be started to execute. Let&#x27;s use Temporal CLI to start the workflow:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow start --tasklist HelloWorldTaskList --workflow_type HelloWorld_sayHello --execution_timeout </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;World</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Started Workflow Id: ef8c6cd6-de62-4481-8398-623865467696, run Id: 26eafcde-6cab-4836-9ad4-888a74e172e1</span></div></div></div></div></div><p>The last line of output of the program should now be:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">18:40:28.354 [workflow-1029765531] INFO  main - Hello World!</span></div></div></div></div></div><p>Let&#x27;s start another workflow execution:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow start --tasklist HelloWorldTaskList --workflow_type HelloWorld_sayHello --execution_timeout </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;Temporal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Started Workflow Id: 7bdfba1d-b3f4-4665-88c2-cec73301dd52, run Id: d6c99e2d-7d76-458f-956b-a2f72af292bf</span></div></div></div></div></div><p>The last two lines of output of the program should now be:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">18:40:28.354 [workflow-1029765531] INFO  main - Hello World!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">18:40:51.678 [workflow-1538256693] INFO  main - Hello Temporal!</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="list-workflows-and-workflow-history"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#list-workflows-and-workflow-history" title="Direct link to heading">#</a>List Workflows and Workflow History</h3><p>Let&#x27;s list our workflows in the CLI:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     WORKFLOW TYPE    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">             WORKFLOW ID              </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">                RUN ID                </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> START TIME </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> EXECUTION TIME </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> END TIME</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  HelloWorld_sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 7bdfba1d-b3f4-4665-88c2-cec73301dd52 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> d6c99e2d-7d76-458f-956b-a2f72af292bf </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:40:51   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:40:51       </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:40:51</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  HelloWorld_sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> ef8c6cd6-de62-4481-8398-623865467696 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 26eafcde-6cab-4836-9ad4-888a74e172e1 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:40:28   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:40:28       </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:40:28</span></div></div></div></div></div><p>Now let&#x27;s look at the workflow execution history:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow showid 1965109f-607f-4b14-a5f2-24399a7b8fa7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">  EventTypeWorkflowExecutionStarted    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">WorkflowType:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">Name:HelloWorld_sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           ParentInitiatedEventId:0, TaskList:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">Name:HelloWorldTaskList,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           Kind:TaskListKindNormal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">, Input:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Temporal&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           ExecutionStartToCloseTimeoutSeconds:3600,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           TaskStartToCloseTimeoutSeconds:10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           Initiator:ContinueAsNewInitiatorDecider,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           ContinuedFailureDetails:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">, LastCompletionResult:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           OriginalExecutionRunId:d6c99e2d-7d76-458f-956b-a2f72af292bf,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           Identity:tctl@docker-desktop,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           FirstExecutionRunId:d6c99e2d-7d76-458f-956b-a2f72af292bf,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           Attempt:0, ExpirationTimestamp:0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           FirstDecisionTaskBackoffSeconds:0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">  EventTypeDecisionTaskScheduled       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">TaskList:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">Name:HelloWorldTaskList,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           Kind:TaskListKindNormal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           StartToCloseTimeoutSeconds:10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           Attempt:0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain">  EventTypeDecisionTaskStarted         </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">ScheduledEventId:2, Identity:unknown-mac,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           RequestId:1ef618db-a3ec-45c3-b545-aea5ae5d36fb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain">  EventTypeDecisionTaskCompleted       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">ExecutionContext:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           ScheduledEventId:2,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           StartedEventId:3,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           Identity:unknown-mac</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain">  EventTypeWorkflowExecutionCompleted  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">Result:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                           DecisionTaskCompletedEventId:4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Even for such a trivial workflow, the history gives a lot of useful information. For complex workflows this is a really useful tool for production and development troubleshooting. History can be automatically archived to a long-term blob store (for example Amazon S3) upon workflow completion for compliance, analytical, and troubleshooting purposes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="workflow-id-uniqueness"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#workflow-id-uniqueness" title="Direct link to heading">#</a>Workflow Id Uniqueness</h3><p>Before proceeding to a more complex workflow implementation, let&#x27;s take a look at the workflow Id semantic.
When starting a workflow without providing an Id, the client generates one in the form of a UUID. In most real-life scenarios this is not a desired behavior. The business Id should be used instead. Here, we&#x27;ll specify the Id when starting a workflow:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow start  --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloTemporal1&quot;</span><span class="token plain"> --tasklist HelloWorldTaskList --workflow_type HelloWorld_sayHello --execution_timeout </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;Temporal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Started Workflow Id: HelloTemporal1, run Id: 78ca0a3f-8cd2-46a2-8d23-076c3f0f187c</span></div></div></div></div></div><p>Now the list operation is more meaningful as the WORKFLOW ID is our business Id:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     WORKFLOW TYPE    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">      WORKFLOW ID      </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">                RUN ID                </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> START TIME </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> EXECUTION TIME </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> END TIME</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  HelloWorld_sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> HelloTemporal1        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 78ca0a3f-8cd2-46a2-8d23-076c3f0f187c </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:47:24   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:47:24       </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 01:47:25</span></div></div></div></div></div><p>After the previous one completes, let&#x27;s try to start another workflow with the same Id:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow start  --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloTemporal1&quot;</span><span class="token plain"> --tasklist HelloWorldTaskList --workflow_type HelloWorld_sayHello --execution_timeout </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;Temporal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Started Workflow Id: HelloTemporal1, run Id: 9b5e36a3-9868-4de5-bbdf-eda9cedcd865</span></div></div></div></div></div><p>After the second start the workflow list is:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">     WORKFLOW TYPE     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">      WORKFLOW ID     </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">                RUN ID                </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> START TIME </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> EXECUTION TIME </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> END TIME</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  HelloWorld_sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> HelloTemporal1        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 37a740e5-838c-4020-aed6-1111b0689c38 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">:11:47   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">:11:47       </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">:11:47</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  HelloWorld_sayHello </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> HelloTemporal1        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> 75170c60-6d72-48c6-b509-7c9d9f25a8a8 </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">:04:46   </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">:04:46       </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">:04:46</span></div></div></div></div></div><p>It might be clear why every workflow has two Ids: Workflow Id and Run Id. Because the Workflow Id can be reused, the Run Id uniquely identifies a particular run of a workflow. Run Id is system generated and cannot be controlled by client code.</p><p>Note - Under no circumstances does Temporal allow more than one instance of an open workflow with the same Id. Multiple workflow Ids are required in the case that paralell invocations wish to be supported (such as an Actor patern)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cli-help"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#cli-help" title="Direct link to heading">#</a>CLI Help</h3><p>See the CLI help command for all of the options supported:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> start</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NAME:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   tctl workflow start - start a new workflow execution</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">USAGE:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   tctl workflow start </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">OPTIONS:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --tasklist value, --tl value                TaskList</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --workflow_id value, --wid value, -w value  WorkflowId</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --workflow_type value, --wt value           WorkflowTypeName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --execution_timeout value, --et value       Execution start to close </span><span class="token function" style="color:rgb(130, 170, 255)">timeout</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> seconds </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">default: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --decision_timeout value, --dt value        Decision task start to close </span><span class="token function" style="color:rgb(130, 170, 255)">timeout</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> seconds </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">default: </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --cron value                                Optional </span><span class="token function" style="color:rgb(130, 170, 255)">cron</span><span class="token plain"> schedule </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> the workflow. Cron spec is as following:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                minute </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                 hour </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                  day of the month </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">31</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                   month </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                    day of the week </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> - </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Sunday to Saturday</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                                   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                               * * * * *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --workflowidreusepolicy value, --wrp value  Optional input to configure </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> the same workflow Id is allowed to be used </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> a new workflow execution. Available options: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">: AllowDuplicate, </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">: AllowDuplicateFailedOnly, </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">: RejectDuplicate </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">default: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --input value, -i value                     Optional input </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> the workflow, </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> JSON format. If there are multiple parameters, concatenate them and separate by a space.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --input_file value, --if value              Optional input </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> the workflow from a JSON file. If there are multiple JSON, concatenate them and separate by a space or newline. Input from the </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> will be overwritten by input from the </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"> line.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --memo_key value                            Optional key of memo. If there are multiple keys, concatenate them and separate by space.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --memo value                                Optional info that can be shown </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> list workflow, </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> JSON format. If there are multiple JSON, concatenate them and separate by a space. The order must be the same as memo_key.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --memo_file value                           Optional info that can be listed </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> list workflow, from JSON </span><span class="token function" style="color:rgb(130, 170, 255)">format</span><span class="token plain"> file. If there are multiple JSON, concatenate them and separate by a space or newline. The order must be same as memo_key.</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="signals"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#signals" title="Direct link to heading">#</a>Signals</h2><p>So far our workflow is not very interesting. Let&#x27;s change it to listen on an external event and update state accordingly.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowInterface</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowMethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@SignalMethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">updateGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldImpl</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> count </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bye&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> oldGreeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">await</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token class-name" style="color:rgb(255, 203, 107)">Objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> oldGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">updateGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>The workflow interface now has a new method annotated with @SignalMethod. It is a callback method that is invoked
every time a new signal of &quot;HelloWorld<em>updateGreeting&quot; is delivered to a workflow. The workflow interface can have only
one @WorkflowMethod which is a _main</em> function of the workflow and as many signal methods as needed.</p><p>The updated workflow implementation demonstrates a few important Temporal concepts. The first is that workflow is stateful and can
have fields of any complex type. Another is that the <code>Workflow.await</code> function that blocks until the function it receives as a parameter evaluates to true. The condition is going to be evaluated only on workflow state changes, so it is not a busy wait in traditional sense.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow start  --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloSignal&quot;</span><span class="token plain"> --tasklist HelloWorldTaskList --workflow_type HelloWorld_sayHello --execution_timeout </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;World</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Started Workflow Id: HelloSignal, run Id: 6fa204cb-f478-469a-9432-78060b83b6cd</span></div></div></div></div></div><p>Program output:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">16:53:56.120 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 1: Hello World!</span></div></div></div></div></div><p>Let&#x27;s send a signal using CLI:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow signal --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloSignal&quot;</span><span class="token plain"> --name </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloWorld_updateGreeting&quot;</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;Hi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Signal workflow succeeded.</span></div></div></div></div></div><p>Program output:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">16:53:56.120 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 1: Hello World!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">16:54:57.901 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 2: Hi World!</span></div></div></div></div></div><p>Try sending the same signal with the same input again. Note that the output doesn&#x27;t change. This happens because the await condition
doesn&#x27;t unblock when it sees the same value. But a new greeting unblocks it:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow signal --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloSignal&quot;</span><span class="token plain"> --name </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloWorld_updateGreeting&quot;</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;Welcome</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Signal workflow succeeded.</span></div></div></div></div></div><p>Program output:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">16:53:56.120 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 1: Hello World!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">16:54:57.901 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 2: Hi World!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">16:56:24.400 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 3: Welcome World!</span></div></div></div></div></div><p>Now shut down the worker and send the same signal again:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow signal --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloSignal&quot;</span><span class="token plain"> --name </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloWorld_updateGreeting&quot;</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;Welcome</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Signal workflow succeeded.</span></div></div></div></div></div><p>Note that sending signals as well as starting workflows does not need a worker running. The requests are queued inside the Temporal service.</p><p>Now bring the worker back. Note that it doesn&#x27;t log anything besides the standard startup messages.
This occurs because it ignores the queued signal that contains the same input as the current value of greeting.
Note that the restart of the worker didn&#x27;t affect the workflow execution. It is still blocked on the same line of code as before the failure.
This is the most important feature of Temporal. The workflow code doesn&#x27;t need to deal with worker failures at all. Its state is fully recovered to its current state that includes all the local variables and threads.</p><p>Let&#x27;s look at the line where the workflow is blocked:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow stack --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello2&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Query result:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token string" style="color:rgb(195, 232, 141)">&quot;workflow-root: (BLOCKED on await)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">io.temporal.internal.sync.SyncDecisionContext.await(SyncDecisionContext.java:546)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">io.temporal.internal.sync.WorkflowInternal.await(WorkflowInternal.java:243)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">io.temporal.workflow.Workflow.await(Workflow.java:611)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">io.temporal.samples.hello.GettingStarted</span><span class="token string variable" style="color:rgb(191, 199, 213)">$HelloWorldImpl</span><span class="token string" style="color:rgb(195, 232, 141)">.sayHello(GettingStarted.java:32)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&quot;</span></div></div></div></div></div><p>Yes, indeed the workflow is blocked on await. This feature works for any open workflow, greatly simplifying troubleshooting in production.
Let&#x27;s complete the workflow by sending a signal with a &quot;Bye&quot; greeting:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">16:58:22.962 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 4: Bye World!</span></div></div></div></div></div><p>Note that the value of the count variable was not lost during the restart.</p><p>Also note that while a single worker instance is used for this
walkthrough, any real production deployment has multiple worker instances running. So any worker failure or restart does not delay any
workflow execution because it is just migrated to any other available worker.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="query"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#query" title="Direct link to heading">#</a>Query</h2><p>So far we have learned that the workflow code is fault tolerant and can update its state in reaction to external events in the form of signals.
Temporal provides a query feature that supports synchronously returning any information from a workflow to an external caller.</p><p>Update the workflow code to:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowInterface</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@WorkflowMethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@SignalMethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">updateGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@QueryMethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldImpl</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> count </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bye&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> oldGreeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">await</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token class-name" style="color:rgb(255, 203, 107)">Objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> oldGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">info</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">updateGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>The new <code>getCount</code> method annotated with <code>@QueryMethod</code> was added to the workflow interface definition. It is allowed
to have multiple query methods per workflow interface.</p><p>The main restriction on the implementation of the query method is that it is not allowed to modify workflow state in any form.
It also is not allowed to block its thread in any way. It usually just returns a value derived from the fields of the workflow object.
Let&#x27;s run the updated worker and send a couple signals to it:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow start  --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloQuery&quot;</span><span class="token plain"> --tasklist HelloWorldTaskList --workflow_type HelloWorld_sayHello --execution_timeout </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;World</span><span class="token string entity" style="color:rgb(195, 232, 141)">\&quot;</span><span class="token string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">Started Workflow Id: HelloQuery, run Id: 1925f668-45b5-4405-8cba-74f7c68c3135</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">temporal: docker run --network=host --rm temporalio/tctl:0.21.1 workflow signal --workflow_id &quot;</span><span class="token plain">HelloQuery</span><span class="token string" style="color:rgb(195, 232, 141)">&quot; --name &quot;</span><span class="token plain">HelloWorld_updateGreeting</span><span class="token string" style="color:rgb(195, 232, 141)">&quot; --input </span><span class="token string entity" style="color:rgb(195, 232, 141)">\&quot;</span><span class="token string" style="color:rgb(195, 232, 141)">Hi</span><span class="token string entity" style="color:rgb(195, 232, 141)">\&quot;</span><span class="token string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">Signal workflow succeeded.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">temporal: docker run --network=host --rm temporalio/tctl:0.21.1 workflow signal --workflow_id &quot;</span><span class="token plain">HelloQuery</span><span class="token string" style="color:rgb(195, 232, 141)">&quot; --name &quot;</span><span class="token plain">HelloWorld_updateGreeting&quot; --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;Welcome</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Signal workflow succeeded.</span></div></div></div></div></div><p>The worker output:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">17:35:50.485 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 1: Hello World!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">17:36:10.483 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 2: Hi World!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">17:36:16.204 [workflow-root] INFO  c.u.c.samples.hello.GettingStarted - 3: Welcome World!</span></div></div></div></div></div><p>Now let&#x27;s query the workflow using the CLI:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow query --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloQuery&quot;</span><span class="token plain"> --query_type </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloWorld_getCount&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Query result as JSON:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">3</span></div></div></div></div></div><p>One limitation of the query is that it requires a worker process running because it is executing callback code.
An interesting feature of the query is that it works for completed workflows as well. Let&#x27;s complete the workflow by sending &quot;Bye&quot; and query it.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow signal --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloQuery&quot;</span><span class="token plain"> --name </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloWorld_updateGreeting&quot;</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bye</span><span class="token string entity" style="color:rgb(195, 232, 141)">\&quot;</span><span class="token string" style="color:rgb(195, 232, 141)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">Signal workflow succeeded.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">temporal: docker run --network=host --rm temporalio/tctl:0.21.1 workflow query --workflow_id &quot;</span><span class="token plain">HelloQuery</span><span class="token string" style="color:rgb(195, 232, 141)">&quot; --query_type &quot;</span><span class="token plain">HelloWorld_getCount&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Query result as JSON:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">4</span></div></div></div></div></div><p>The Query method can accept parameters. This might be useful if only part of the workflow state should be returned.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="activities"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#activities" title="Direct link to heading">#</a>Activities</h2><p>Having fault tolerant code that maintains state, updates it in reaction to external events, and supports querying is already very useful.
But in most practical applications, the workflow is expected to act upon the external world. Temporal supports such externally-facing code in the form of activities.</p><p>An activity is essentially a function that can execute any code like DB updates or service calls. The workflow is not allowed to
directly call any external APIs; it can do this only through activities. The workflow is essentially an orchestrator of activities.
Let&#x27;s change our program to print the greeting from an activity on every change.</p><p>First let&#x27;s define an activities interface and implement it:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@ActivityInterface</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldActivities</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p><code>@ActivityInterface</code> annotation is required for an activity interface. Each method that belongs to an activity interface
defines a separate activity type.</p><p>Activity implementation is just a normal <a href="https://en.wikipedia.org/wiki/Plain_old_Java_object">POJO</a>.
The <code>out</code> stream is passed as a parameter to the constructor to demonstrate that the
activity object can have any dependencies. Examples of real application dependencies are database connections and service clients.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWordActivitiesImpl</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldActivities</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PrintStream</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWordActivitiesImpl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">PrintStream</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Let&#x27;s create a separate main method for the activity worker. It is common to have a single worker that hosts both activities and workflows,
but here we keep them separate to demonstrate how Temporal deals with worker failures.
To make the activity implementation known to Temporal, register it with the worker:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">GettingStartedActivityWorker</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowServiceStubs</span><span class="token plain"> service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowServiceStubs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowClient</span><span class="token plain"> client </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkflowClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkerFactory</span><span class="token plain"> factory </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WorkerFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">Worker</span><span class="token plain"> worker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloWorldTaskList&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    worker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">registerActivitiesImplementations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWordActivitiesImpl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>A single instance of an activity object is registered per activity interface type. This means that the activity implementation should be thread-safe since the activity method can be simultaneously called from multiple threads.</p><p>Let&#x27;s modify the workflow code to invoke the activity instead of logging:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldImpl</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorld</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldActivities</span><span class="token plain"> activities </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">newActivityStub</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldActivities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">class</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> count </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sayHello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bye&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        activities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> oldGreeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Workflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">await</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token class-name" style="color:rgb(255, 203, 107)">Objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">equals</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> oldGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      activities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">updateGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> greeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getCount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Activities are invoked through a stub that implements their interface. So an invocation is just a method call on an activity stub.</p><p>Now run the workflow worker. Do not run the activity worker yet. Then start a new workflow execution:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">host --rm temporalio/tctl:0.21.1 workflow start  --workflow_id </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;HelloActivityWorker&quot;</span><span class="token plain"> --tasklist HelloWorldTaskList --workflow_type HelloWorld_sayHello --execution_timeout </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> --input </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;World</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Started Workflow Id: HelloActivityWorker, run Id: ff015637-b5af-43e8-b3f6-8b6c7b919b62</span></div></div></div></div></div><p>The workflow is started, but nothing visible happens. This is expected as the activity worker is not running. What are the options to understand the currently running workflow state?</p><p>The first option is look at the stack trace:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network=host --rm temporalio/tctl:0.21.1 workflow stack  --workflow_id &quot;HelloActivityWorker&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Query result as JSON:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;workflow-root: (BLOCKED on Feature.get)io.temporal.internal.sync.CompletablePromiseImpl.get(CompletablePromiseImpl.java:71)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">io.temporal.internal.sync.ActivityStubImpl.execute(ActivityStubImpl.java:58)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">io.temporal.internal.sync.ActivityInvocationHandler.lambda$invoke$0(ActivityInvocationHandler.java:87)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">io.temporal.internal.sync.ActivityInvocationHandler$$Lambda$25/1816732716.apply(Unknown Source)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">io.temporal.internal.sync.ActivityInvocationHandler.invoke(ActivityInvocationHandler.java:94)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">com.sun.proxy.$Proxy6.say(Unknown Source)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">io.temporal.samples.hello.GettingStarted$HelloWorldImpl.sayHello(GettingStarted.java:55)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;</span></div></div></div></div></div><p>It shows that the workflow code is blocked on the &quot;say&quot; method of a Proxy object that implements the activity stub.
You can restart the workflow worker if you want to make sure that restarting it does not change that. It works for activities
of any duration. It is okay for the workflow code to block on an activity invocation for a month for example.</p><p>Another way to see what exactly happened in the workflow execution is to look at the workflow execution history:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network=host --rm temporalio/tctl:0.21.1 workflow show  --workflow_id &quot;HelloActivityWorker&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  1  WorkflowExecutionStarted  {WorkflowType:{Name:HelloWorld_sayHello},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                TaskList:{Name:HelloWorldTaskList},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Input:[&quot;World&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ExecutionStartToCloseTimeoutSeconds:3600,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                TaskStartToCloseTimeoutSeconds:10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ContinuedFailureDetails:[],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                LastCompletionResult:[],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:temporal-cli@linuxkit-025000000001,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Attempt:0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                FirstDecisionTaskBackoffSeconds:0}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  2  DecisionTaskScheduled     {TaskList:{Name:HelloWorldTaskList},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartToCloseTimeoutSeconds:10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Attempt:0}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  3  DecisionTaskStarted       {ScheduledEventId:2,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:36234@maxim-C02XD0AAJGH6,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                RequestId:ef645576-7cee-4d2e-9892-597a08b7b01f}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  4  DecisionTaskCompleted     {ExecutionContext:[],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ScheduledEventId:2,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartedEventId:3,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:36234@maxim-C02XD0AAJGH6}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  5  ActivityTaskScheduled     {ActivityId:0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ActivityType:{Name:HelloWorldActivities_say},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                TaskList:{Name:HelloWorldTaskList},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Input:[&quot;1: Hello World!&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ScheduleToCloseTimeoutSeconds:100,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ScheduleToStartTimeoutSeconds:100,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartToCloseTimeoutSeconds:100,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                HeartbeatTimeoutSeconds:100,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                DecisionTaskCompletedEventId:4}</span></div></div></div></div></div><p>The last event in the workflow history is <code>ActivityTaskScheduled</code>. It is recorded when workflow invoked the activity, but it wasn&#x27;t picked up by an activity worker yet.</p><p>Another useful API is <code>DescribeWorkflowExecution</code> which, among other information, contains the list of outstanding activities:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network=host --rm temporalio/tctl:0.21.1 workflow describe  --workflow_id &quot;HelloActivityWorker&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;ExecutionConfiguration&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;taskList&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;name&quot;: &quot;HelloWorldTaskList&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;executionStartToCloseTimeoutSeconds&quot;: 3600,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;taskStartToCloseTimeoutSeconds&quot;: 10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;childPolicy&quot;: &quot;TERMINATE&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;WorkflowExecutionInfo&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Execution&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;workflowId&quot;: &quot;HelloActivityWorker&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;runId&quot;: &quot;ff015637-b5af-43e8-b3f6-8b6c7b919b62&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Type&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;name&quot;: &quot;HelloWorld_sayHello&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;StartTime&quot;: &quot;2019-06-08T23:56:41Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;CloseTime&quot;: &quot;1970-01-01T00:00:00Z&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Status&quot;: null,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;HistoryLength&quot;: 5,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;ParentNamespaceId&quot;: null,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;ParentExecution&quot;: null,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;AutoResetPoints&quot;: {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;PendingActivities&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;ActivityId&quot;: &quot;0&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;ActivityType&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;HelloWorldActivities_say&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;State&quot;: &quot;SCHEDULED&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;ScheduledTimestamp&quot;: &quot;2019-06-08T23:57:00Z&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>Let&#x27;s start the activity worker. It starts and immediately prints:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">1: Hello World!</span></div></div></div></div></div><p>Let&#x27;s look at the workflow execution history:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-text codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">temporal: docker run --network=host --rm temporalio/tctl:0.21.1 workflow show  --workflow_id &quot;HelloActivityWorker&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   1  WorkflowExecutionStarted  {WorkflowType:{Name:HelloWorld_sayHello},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                TaskList:{Name:HelloWorldTaskList},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Input:[&quot;World&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ExecutionStartToCloseTimeoutSeconds:3600,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                TaskStartToCloseTimeoutSeconds:10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ContinuedFailureDetails:[],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                LastCompletionResult:[],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:temporal-cli@linuxkit-025000000001,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Attempt:0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                FirstDecisionTaskBackoffSeconds:0}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   2  DecisionTaskScheduled     {TaskList:{Name:HelloWorldTaskList},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartToCloseTimeoutSeconds:10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Attempt:0}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   3  DecisionTaskStarted       {ScheduledEventId:2,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:37694@maxim-C02XD0AAJGH6,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                RequestId:1d7cba6d-98c8-41fd-91b1-c27dffb21c7f}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   4  DecisionTaskCompleted     {ExecutionContext:[],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ScheduledEventId:2,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartedEventId:3,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:37694@maxim-C02XD0AAJGH6}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   5  ActivityTaskScheduled     {ActivityId:0,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ActivityType:{Name:HelloWorldActivities_say},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                TaskList:{Name:HelloWorldTaskList},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Input:[&quot;1: Hello World!&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ScheduleToCloseTimeoutSeconds:300,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ScheduleToStartTimeoutSeconds:300,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartToCloseTimeoutSeconds:300,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                HeartbeatTimeoutSeconds:300,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                DecisionTaskCompletedEventId:4}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   6  ActivityTaskStarted       {ScheduledEventId:5,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:37784@maxim-C02XD0AAJGH6,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                RequestId:a646d5d2-566f-4f43-92d7-6689139ce944,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Attempt:0}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   7  ActivityTaskCompleted     {Result:[], ScheduledEventId:5,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartedEventId:6,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:37784@maxim-C02XD0AAJGH6}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   8  DecisionTaskScheduled     {TaskList:{Name:maxim-C02XD0AAJGH6:fd3a85ed-752d-4662-a49d-2665b7667c8a},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartToCloseTimeoutSeconds:10, Attempt:0}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   9  DecisionTaskStarted       {ScheduledEventId:8,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:fd3a85ed-752d-4662-a49d-2665b7667c8a,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                RequestId:601ef30a-0d1b-4400-b034-65b8328ad34c}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  10  DecisionTaskCompleted     {ExecutionContext:[],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                ScheduledEventId:8,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                StartedEventId:9,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                Identity:37694@maxim-C02XD0AAJGH6}</span></div></div></div></div></div><p><em>ActivityTaskStarted</em> event is recorded when the activity task is picked up by an activity worker. The Identity field
contains the Id of the worker (you can set it to any value on worker startup).</p><p><em>ActivityTaskCompleted</em> event is recorded when activity completes. It contains the result of the activity execution.</p><p>Let&#x27;s look at various failure scenarios. Modify activity task timeout:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-java codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@ActivityInterface</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldActivities</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@ActivityMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">scheduleToCloseTimeoutSeconds </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWordActivitiesImpl</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWorldActivities</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PrintStream</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HelloWordActivitiesImpl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">PrintStream</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>(To be continued ...)</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/temporalio/temporal-documentation-legacy-v2/blob/master/docs/java-quick-start.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/learn-workflow-filtering"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label"> Filtering Workflows</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/java-workflow-interface"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Workflow Interface </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#install-temporal-server-locally" class="contents__link">Install Temporal Server Locally</a></li><li><a href="#implement-hello-world-java-workflow" class="contents__link">Implement Hello World Java Workflow</a><ul><li><a href="#include-temporal-java-sdk-dependency" class="contents__link">Include Temporal Java SDK Dependency</a></li><li><a href="#implement-hello-world-workflow" class="contents__link">Implement Hello World Workflow</a></li><li><a href="#execute-hello-world-workflow-using-the-cli" class="contents__link">Execute Hello World Workflow using the CLI</a></li><li><a href="#list-workflows-and-workflow-history" class="contents__link">List Workflows and Workflow History</a></li><li><a href="#workflow-id-uniqueness" class="contents__link">Workflow Id Uniqueness</a></li><li><a href="#cli-help" class="contents__link">CLI Help</a></li></ul></li><li><a href="#signals" class="contents__link">Signals</a></li><li><a href="#query" class="contents__link">Query</a></li><li><a href="#activities" class="contents__link">Activities</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Getting Started</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/docs/java-quick-start">Java SDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/go-quick-start">Go SDK</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/temporal-workflow">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/temporalio/temporal">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright  2020 Temporal Technologies Inc.  All rights reserved. Copyright  2020 Uber Technologies, Inc.</div></div></div></footer>
</div>

<script src="/styles.2e8c563f.js"></script>

<script src="/runtime~main.08a2b794.js"></script>

<script src="/main.396e1ee6.js"></script>

<script src="/1.56a960ad.js"></script>

<script src="/2.baf85c20.js"></script>

<script src="/3.f2c34b4a.js"></script>

<script src="/1be78505.8ca3838c.js"></script>

<script src="/20ac7829.55ca918f.js"></script>

<script src="/17896441.3aca8210.js"></script>

<script src="/479c3a6a.3f4636b0.js"></script>


</body>
</html>